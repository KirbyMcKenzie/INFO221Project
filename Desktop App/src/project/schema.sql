CREATE TABLE PRODUCTS(

PRODUCT_ID INTEGER NOT NULL,
PRODUCTNAME VARCHAR NOT NULL,
DESCRIPTION VARCHAR,
CATEGORY VARCHAR NOT NULL,
PRICE DECIMAL(8,2) NOT NULL,
QUANTITY INTEGER NOT NULL,

constraint PK_PRODUCTS primary key (ID)
);

CREATE TABLE CUSTOMERS(

USERNAME VARCHAR NOT NULL,
FIRSTNAME VARCHAR NOT NULL,
LASTNAME  VARCHAR NOT NULL,
EMAIL VARCHAR NOT NULL,
STREETADDRESS VARCHAR NOT NULL,
SUBURB VARCHAR NOT NULL,
PASSWORD VARCHAR NOT NULL,

CONSTRAINT PK_CUSTOMERS PRIMARY KEY (USERNAME)
);



CREATE TABLE SALES(
ORDER_ID INTEGER GENERATED BY DEFAULT AS IDENTITY
(START WITH 1000) NOT NULL,
ORDER_DATE TIMESTAMP NOT NULL,
CUSTOMER VARCHAR NOT NULL,

CONSTRAINT PK_SALES PRIMARY KEY (ORDER_ID)
);


CREATE TABLE ORDERITEMS(
PRODUCT_ID INTEGER NOT NULL,
ORDER_ID INTEGER NOT NULL,
QUANTITY_PURCHASED INTEGER NOT NULL,
PRICE DECIMAL(8,2) NOT NULL, 

CONSTRAINT PK_ORDERITEMS PRIMARY KEY (PRODUCT_ID, ORDER_ID),

CONSTRAINT FK_ORDERITEMS_PRODUCTS
    FOREIGN KEY (PRODUCT_ID) REFERENCES PRODUCTS(ID),
CONSTRAINT FK_ORDERITEMS_SALES
    FOREIGN KEY (ORDER_ID) REFERENCES SALES(ORDER_ID)
); 





